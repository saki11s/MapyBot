# üó∫Ô∏è **MapyBot** - –¢–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∫–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –ø–æ–º–æ—â–Ω–∏–∫! üìç

–≠—Ç–æ—Ç Telegram-–±–æ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ä–æ–¥–∞ –Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞—Ä—Ç–∞—Ö, —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–ø–∏—Å–∫–∞–º–∏ –ª—é–±–∏–º—ã—Ö –º–µ—Å—Ç –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∏—Ö –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ.

---

## ‚ú® –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

*   **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç—ã –≥–æ—Ä–æ–¥–æ–≤:** –ë–æ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≥–æ—Ä–æ–¥–∞ –∏–ª–∏ –≤–µ—Å—å –≤–∞—à —Å–ø–∏—Å–æ–∫ –Ω–∞ –∫–∞—Ä—Ç–∞—Ö, –∏—Å–ø–æ–ª—å–∑—É—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Cartopy –¥–ª—è —Ç–æ—á–Ω—ã—Ö –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ü–∏–π.
*   **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞–º–∏:** –ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –≥–æ—Ä–æ–¥–∞ –≤ –≤–∞—à –ª–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –º–µ—Å—Ç, –∞ —Ç–∞–∫ –∂–µ –£–¥–∞–ª—è—Ç—å –∏—Ö –∏–∑ —ç—Ç–æ–æ–≥–æ —Å–ø–∏—Å–∫–∞.
*   **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤:** –ë—ã—Å—Ç—Ä–æ –ø–æ–ª—É—á–∞–π—Ç–µ –∫–∞—Ä—Ç—É —Å–æ –≤—Å–µ–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ.
*   **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Ä–∫–µ—Ä–æ–≤:** –í—ã–±–∏—Ä–∞–π—Ç–µ —Ü–≤–µ—Ç –º–∞—Ä–∫–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–º–∏ –±—É–¥—É—Ç –æ—Ç–º–µ—á–µ–Ω—ã –≥–æ—Ä–æ–¥–∞ –Ω–∞ –∫–∞—Ä—Ç–µ, –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.

---

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

*   **Python**
*   **PyTelegramBotAPI**
*   **SQLite3**
*   **Matplotlib**
*   **Cartopy**
---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –±–æ—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤:

1.  **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/saki11s/MapyBot.git
    ```
    
2.  **–°–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
    ```bash
    python -m venv venv
    # –î–ª—è Windows
    .\venv\Scripts\activate
    # –î–ª—è macOS/Linux
    source venv/bin/activate
    ```

3.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å `config.py`:**
    *   –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `config.py` –≤ –∫–æ—Ä–Ω–µ–≤–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ –ø—Ä–æ–µ–∫—Ç–∞.
    *   –ü–æ–ª—É—á–∏—Ç–µ API Token –æ—Ç [BotFather](https://t.me/BotFather) –∏ —É–∫–∞–∂–∏—Ç–µ –µ–≥–æ:
        ```python
        # config.py
        TOKEN = 'YOUR_TELEGRAM_BOT_API_TOKEN'
        DATABASE = 'database.db'
        ```
    *   –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö `database.db` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

5.  **–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞:**
    *   **–í–∞–∂–Ω–æ:** –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ Cartopy –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —Å–∫–∞—á–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É. –≠—Ç–æ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å.

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `config.py`:

*   `TOKEN`: –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π API Token –≤–∞—à–µ–≥–æ Telegram-–±–æ—Ç–∞.
*   `DATABASE`: –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö SQLite (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `database.db`).

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (`database.db`)

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö SQLite –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:

1.  **`cities`**: –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –≥–æ—Ä–æ–¥–∞—Ö.
    *   `id` (INTEGER, PRIMARY KEY): –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≥–æ—Ä–æ–¥–∞.
    *   `city` (TEXT): –ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ (–Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º).
    *   `lat` (REAL): –®–∏—Ä–æ—Ç–∞ –≥–æ—Ä–æ–¥–∞.
    *   `lng` (REAL): –î–æ–ª–≥–æ—Ç–∞ –≥–æ—Ä–æ–¥–∞.
    *   `country` (TEXT): –°—Ç—Ä–∞–Ω–∞.
    *   `population` (INTEGER): –ù–∞—Å–µ–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞.

2.  **`users_cities`**: –•—Ä–∞–Ω–∏—Ç —Å–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∫–∞–∂–¥—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
    *   `user_id` (INTEGER): –£–Ω–∏–∫–∞–ª—å–Ω—ã–π Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    *   `city_id` (TEXT): ID –≥–æ—Ä–æ–¥–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `cities`.

3.  **`user_settings`**: –•—Ä–∞–Ω–∏—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
    *   `user_id` (INTEGER, PRIMARY KEY): –£–Ω–∏–∫–∞–ª—å–Ω—ã–π Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    *   `marker_color` (TEXT): –í—ã–±—Ä–∞–Ω–Ω—ã–π —Ü–≤–µ—Ç –º–∞—Ä–∫–µ—Ä–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'red', 'blue').

---

## üéÆ –ö–æ–º–∞–Ω–¥—ã

*   `/start` - üëã –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º –∏ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
*   `/help` - üìö –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∏ –∏—Ö –æ–ø–∏—Å–∞–Ω–∏–µ.
*   `/show_city <–ù–∞–∑–≤–∞–Ω–∏–µ–ì–æ—Ä–æ–¥–∞>` - üó∫Ô∏è –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —É–∫–∞–∑–∞–Ω–Ω—ã–π –≥–æ—Ä–æ–¥ –Ω–∞ –∫–∞—Ä—Ç–µ.
*   `/remember_city <–ù–∞–∑–≤–∞–Ω–∏–µ–ì–æ—Ä–æ–¥–∞>` - ‚≠ê —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≥–æ—Ä–æ–¥ –≤ —Ç–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫.
*   `/show_my_cities` - üåç –ø–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ä—Ç—É —Å–æ –≤—Å–µ–º–∏ —Ç–≤–æ–∏–º–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏.
*   `/delete_my_city` - üóëÔ∏è —É–¥–∞–ª–∏—Ç—å –≥–æ—Ä–æ–¥ –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö
*   `/set_marker_color` - üé® –≤—ã–±—Ä–∞—Ç—å —Ü–≤–µ—Ç –º–∞—Ä–∫–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ –∫–∞—Ä—Ç–µ.

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. –≤ —Ñ–∞–π–ª–µ `LICENSE`.
